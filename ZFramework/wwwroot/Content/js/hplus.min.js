function NavToggle(){$(".navbar-minimalize").trigger("click");}
function SmoothlyMenu(){$("body").hasClass("mini-navbar")?$("body").hasClass("fixed-sidebar")?($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500);},300)):$("#side-menu").removeAttr("style"):($("#side-menu").hide(),setTimeout(function(){$("#side-menu").fadeIn(500);},100));}
function localStorageSupport(){return"localStorage"in window&&null!==window.localStorage;}
function MenuGenerate(listData){var outHrml="";for(var i=0;i<listData.length;i++){if(listData[i].parent_id==0){var TitleA=listData[i].title;var IconA=listData[i].icon;var LinkA=listData[i].link;outHrml+="<li>";if(LinkA.trim()==""){outHrml+="<a href='javascript:void(0);'>";if(IconA!="")outHrml+="<i class='"+IconA+"'></i>";outHrml+="<span class='nav-label'>"+TitleA+"</span>";outHrml+="<span class='fa arrow'></span>";outHrml+="</a>";for(var ii=0;ii<listData.length;ii++){if(listData[i].menu_id.toString()==listData[ii].parent_id.toString()){var TitleB=listData[ii].title;var IconB=listData[ii].icon;var LinkB=listData[ii].link;outHrml+="<ul class='nav nav-second-level'>";outHrml+="<li>";outHrml+="<a class='J_menuItem' href='"+LinkB+"'>";if(IconB!="")outHrml+="<i class='"+IconB+"'></i>";outHrml+="<span class='nav-label'>"+TitleB+"</span>";outHrml+="</a>";outHrml+="</li>";outHrml+="</ul>";}}
outHrml+="";}
else{outHrml+="<a class='J_menuItem' href='"+LinkA+"'>";if(IconA!="")outHrml+="<i class='"+IconA+"'></i>";outHrml+="<span class='nav-label'>"+TitleA+"</span>";outHrml+="</a>";}
outHrml+="</li>";}}
document.getElementById("side-menu").innerHTML+=outHrml;function calSumWidth(elements){var width=0;$(elements).each(function(){width+=$(this).outerWidth(true);});return width;}
function scrollToTab(element){var marginLeftVal=calSumWidth($(element).prevAll()),marginRightVal=calSumWidth($(element).nextAll());var tabOuterWidth=calSumWidth($(".content-tabs").children().not(".J_menuTabs"));var visibleWidth=$(".content-tabs").outerWidth(true)-tabOuterWidth;var scrollVal=0;if($(".page-tabs-content").outerWidth()<visibleWidth){scrollVal=0;}else if(marginRightVal<=(visibleWidth-$(element).outerWidth(true)-$(element).next().outerWidth(true))){if((visibleWidth-$(element).next().outerWidth(true))>marginRightVal){scrollVal=marginLeftVal;var tabElement=element;while((scrollVal-$(tabElement).outerWidth())>($(".page-tabs-content").outerWidth()-visibleWidth)){scrollVal-=$(tabElement).prev().outerWidth();tabElement=$(tabElement).prev();}}}else if(marginLeftVal>(visibleWidth-$(element).outerWidth(true)-$(element).prev().outerWidth(true))){scrollVal=marginLeftVal-$(element).prev().outerWidth(true);}
$('.page-tabs-content').animate({marginLeft:0-scrollVal+'px'},"fast");}
function scrollTabLeft(){var marginLeftVal=Math.abs(parseInt($('.page-tabs-content').css('margin-left')));var tabOuterWidth=calSumWidth($(".content-tabs").children().not(".J_menuTabs"));var visibleWidth=$(".content-tabs").outerWidth(true)-tabOuterWidth;var scrollVal=0;if($(".page-tabs-content").width()<visibleWidth){return false;}else{var tabElement=$(".J_menuTab:first");var offsetVal=0;while((offsetVal+$(tabElement).outerWidth(true))<=marginLeftVal){offsetVal+=$(tabElement).outerWidth(true);tabElement=$(tabElement).next();}
offsetVal=0;if(calSumWidth($(tabElement).prevAll())>visibleWidth){while((offsetVal+$(tabElement).outerWidth(true))<(visibleWidth)&&tabElement.length>0){offsetVal+=$(tabElement).outerWidth(true);tabElement=$(tabElement).prev();}
scrollVal=calSumWidth($(tabElement).prevAll());}}
$('.page-tabs-content').animate({marginLeft:0-scrollVal+'px'},"fast");}
function scrollTabRight(){var marginLeftVal=Math.abs(parseInt($('.page-tabs-content').css('margin-left')));var tabOuterWidth=calSumWidth($(".content-tabs").children().not(".J_menuTabs"));var visibleWidth=$(".content-tabs").outerWidth(true)-tabOuterWidth;var scrollVal=0;if($(".page-tabs-content").width()<visibleWidth){return false;}else{var tabElement=$(".J_menuTab:first");var offsetVal=0;while((offsetVal+$(tabElement).outerWidth(true))<=marginLeftVal){offsetVal+=$(tabElement).outerWidth(true);tabElement=$(tabElement).next();}
offsetVal=0;while((offsetVal+$(tabElement).outerWidth(true))<(visibleWidth)&&tabElement.length>0){offsetVal+=$(tabElement).outerWidth(true);tabElement=$(tabElement).next();}
scrollVal=calSumWidth($(tabElement).prevAll());if(scrollVal>0){$('.page-tabs-content').animate({marginLeft:0-scrollVal+'px'},"fast");}}}
$(".J_menuItem").each(function(index){if(!$(this).attr('data-index')){$(this).attr('data-index',index);}});function menuItem(){var dataUrl=$(this).attr('href'),dataIndex=$(this).data('index'),menuName=$.trim($(this).text()),flag=true;if(dataUrl==undefined||$.trim(dataUrl).length==0)return false;$('.J_menuTab').each(function(){if($(this).data('id')==dataUrl){if(!$(this).hasClass('active')){$(this).addClass('active').siblings('.J_menuTab').removeClass('active');scrollToTab(this);$('.J_mainContent .J_iframe').each(function(){if($(this).data('id')==dataUrl){$(this).show().siblings('.J_iframe').hide();return false;}});}
flag=false;return false;}});if(flag){var str='<a href="javascript:;" class="active J_menuTab" data-id="'+dataUrl+'">'+menuName+' <i class="fa fa-times-circle"></i></a>';$('.J_menuTab').removeClass('active');var height=$(window).height()-110;var str1='<iframe class="J_iframe" name="iframe'+dataIndex+'" width="100%" height="'+height+'" src="'+dataUrl+'" frameborder="0" data-id="'+dataUrl+'" seamless></iframe>';$('.J_mainContent').find('iframe.J_iframe').hide().parents('.J_mainContent').append(str1);$('.J_menuTabs .page-tabs-content').append(str);scrollToTab($('.J_menuTab.active'));}
return false;}
$('.J_menuItem').on('click',menuItem);function closeTab(){var closeTabId=$(this).parents('.J_menuTab').data('id');var currentWidth=$(this).parents('.J_menuTab').width();if($(this).parents('.J_menuTab').hasClass('active')){if($(this).parents('.J_menuTab').next('.J_menuTab').size()){var activeId=$(this).parents('.J_menuTab').next('.J_menuTab:eq(0)').data('id');$(this).parents('.J_menuTab').next('.J_menuTab:eq(0)').addClass('active');$('.J_mainContent .J_iframe').each(function(){if($(this).data('id')==activeId){$(this).show().siblings('.J_iframe').hide();return false;}});var marginLeftVal=parseInt($('.page-tabs-content').css('margin-left'));if(marginLeftVal<0){$('.page-tabs-content').animate({marginLeft:(marginLeftVal+currentWidth)+'px'},"fast");}
$(this).parents('.J_menuTab').remove();$('.J_mainContent .J_iframe').each(function(){if($(this).data('id')==closeTabId){$(this).remove();return false;}});}
if($(this).parents('.J_menuTab').prev('.J_menuTab').size()){var activeId=$(this).parents('.J_menuTab').prev('.J_menuTab:last').data('id');$(this).parents('.J_menuTab').prev('.J_menuTab:last').addClass('active');$('.J_mainContent .J_iframe').each(function(){if($(this).data('id')==activeId){$(this).show().siblings('.J_iframe').hide();return false;}});$(this).parents('.J_menuTab').remove();$('.J_mainContent .J_iframe').each(function(){if($(this).data('id')==closeTabId){$(this).remove();return false;}});}}
else{$(this).parents('.J_menuTab').remove();$('.J_mainContent .J_iframe').each(function(){if($(this).data('id')==closeTabId){$(this).remove();return false;}});scrollToTab($('.J_menuTab.active'));}
return false;}
$('.J_menuTabs').on('click','.J_menuTab i',closeTab);function closeOtherTabs(){$('.page-tabs-content').children("[data-id]").not(":first").not(".active").each(function(){$('.J_iframe[data-id="'+$(this).data('id')+'"]').remove();$(this).remove();});$('.page-tabs-content').css("margin-left","0");}
$('.J_tabCloseOther').on('click',closeOtherTabs);function showActiveTab(){scrollToTab($('.J_menuTab.active'));}
$('.J_tabShowActive').on('click',showActiveTab);function activeTab(){if(!$(this).hasClass('active')){var currentId=$(this).data('id');$('.J_mainContent .J_iframe').each(function(){if($(this).data('id')==currentId){$(this).show().siblings('.J_iframe').hide();return false;}});$(this).addClass('active').siblings('.J_menuTab').removeClass('active');scrollToTab(this);}}
$('.J_menuTabs').on('click','.J_menuTab',activeTab);function refreshTab(){var target=$('.J_iframe[data-id="'+$(this).data('id')+'"]');var url=target.attr('src');}
$('.J_menuTabs').on('dblclick','.J_menuTab',refreshTab);$('.J_tabLeft').on('click',scrollTabLeft);$('.J_tabRight').on('click',scrollTabRight);$('.J_tabCloseAll').on('click',function(){$('.page-tabs-content').children("[data-id]").not(":first").each(function(){$('.J_iframe[data-id="'+$(this).data('id')+'"]').remove();$(this).remove();});$('.page-tabs-content').children("[data-id]:first").each(function(){$('.J_iframe[data-id="'+$(this).data('id')+'"]').show();$(this).addClass("active");});$('.page-tabs-content').css("margin-left","0");});function e(){var e=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",e+"px")}
$("#side-menu").metisMenu(),$(".right-sidebar-toggle").click(function(){$("#right-sidebar").toggleClass("sidebar-open")}),$(".sidebar-container").slimScroll({height:"100%",railOpacity:0.4,wheelStep:10}),$(".open-small-chat").click(function(){$(this).children().toggleClass("fa-comments").toggleClass("fa-remove"),$(".small-chat-box").toggleClass("active")}),$(".small-chat-box .content").slimScroll({height:"234px",railOpacity:0.4}),$(".check-link").click(function(){var e=$(this).find("i"),a=$(this).next("span");return e.toggleClass("fa-check-square").toggleClass("fa-square-o"),a.toggleClass("todo-completed"),!1}),$(function(){$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:0.9,alwaysVisible:!1})}),$(".navbar-minimalize").click(function(){$("body").toggleClass("mini-navbar"),SmoothlyMenu()}),e(),$(window).bind("load resize click scroll",function(){$("body").hasClass("body-small")||e()}),$(window).scroll(function(){$(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")?$("#right-sidebar").addClass("sidebar-top"):$("#right-sidebar").removeClass("sidebar-top")}),$(".full-height-scroll").slimScroll({height:"100%"}),$("#side-menu>li").click(function(){$("body").hasClass("mini-navbar")&&NavToggle()}),$("#side-menu>li li a").click(function(){$(window).width()<769&&NavToggle()}),$(".nav-close").click(NavToggle),/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)&&$("#content-main").css("overflow-y","auto"),$(window).bind("load resize",function(){$(this).width()<769&&($("body").addClass("mini-navbar"),$(".navbar-static-side").fadeIn())}),$(function(){if($("#fixednavbar").click(function(){$("#fixednavbar").is(":checked")?($(".navbar-static-top").removeClass("navbar-static-top").addClass("navbar-fixed-top"),$("body").removeClass("boxed-layout"),$("body").addClass("fixed-nav"),$("#boxedlayout").prop("checked",!1),localStorageSupport&&localStorage.setItem("boxedlayout","off"),localStorageSupport&&localStorage.setItem("fixednavbar","on")):($(".navbar-fixed-top").removeClass("navbar-fixed-top").addClass("navbar-static-top"),$("body").removeClass("fixed-nav"),localStorageSupport&&localStorage.setItem("fixednavbar","off"))}),$("#collapsemenu").click(function(){$("#collapsemenu").is(":checked")?($("body").addClass("mini-navbar"),SmoothlyMenu(),localStorageSupport&&localStorage.setItem("collapse_menu","on")):($("body").removeClass("mini-navbar"),SmoothlyMenu(),localStorageSupport&&localStorage.setItem("collapse_menu","off"))}),$("#boxedlayout").click(function(){$("#boxedlayout").is(":checked")?($("body").addClass("boxed-layout"),$("#fixednavbar").prop("checked",!1),$(".navbar-fixed-top").removeClass("navbar-fixed-top").addClass("navbar-static-top"),$("body").removeClass("fixed-nav"),localStorageSupport&&localStorage.setItem("fixednavbar","off"),localStorageSupport&&localStorage.setItem("boxedlayout","on")):($("body").removeClass("boxed-layout"),localStorageSupport&&localStorage.setItem("boxedlayout","off"))}),$(".s-skin-0").click(function(){return $("body").removeClass("skin-1"),$("body").removeClass("skin-2"),$("body").removeClass("skin-3"),!1}),$(".s-skin-1").click(function(){return $("body").removeClass("skin-2"),$("body").removeClass("skin-3"),$("body").addClass("skin-1"),!1}),$(".s-skin-3").click(function(){return $("body").removeClass("skin-1"),$("body").removeClass("skin-2"),$("body").addClass("skin-3"),!1}),localStorageSupport){var e=localStorage.getItem("collapse_menu"),a=localStorage.getItem("fixednavbar"),o=localStorage.getItem("boxedlayout");"on"==e&&$("#collapsemenu").prop("checked","checked"),"on"==a&&$("#fixednavbar").prop("checked","checked"),"on"==o&&$("#boxedlayout").prop("checked","checked")}
if(localStorageSupport){var e=localStorage.getItem("collapse_menu"),a=localStorage.getItem("fixednavbar"),o=localStorage.getItem("boxedlayout"),l=$("body");"on"==e&&(l.hasClass("body-small")||l.addClass("mini-navbar")),"on"==a&&($(".navbar-static-top").removeClass("navbar-static-top").addClass("navbar-fixed-top"),l.addClass("fixed-nav")),"on"==o&&l.addClass("boxed-layout")}});}